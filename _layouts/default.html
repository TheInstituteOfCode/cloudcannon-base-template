<!DOCTYPE html>
<html lang="en" class="hide-scrollbars">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Infant:ital,wght@0,300;0,400;0,600;1,300;1,400;1,600&family=Inter:wght@100..900&display=swap" rel="stylesheet">
    
    <link rel="icon" type="image/x-icon" href="{{page.seo.favicon | default: site.data.seo.favicon}}">
    
    
    
    <link rel="stylesheet" href="/editor.css">
    <link rel="stylesheet" href="/assets/css/style.css">
    
    <!-- meta-fields -->
    <title>{{page.seo.title | default: site.data.seo.title }}</title>
    <meta name="description" content="{{page.seo.description | default: site.data.seo.description}}">
    <meta property="og:image" content="{{page.data.seo.image | default: site.data.seo.image}}"/>
    
    <meta name="google" content="nositelinkssearchbox">
    {% if site.data.seo.google-site-verification %}
      <meta name="google-site-verification" content="{{site.data.seo.google-site-verification}}">
    {% endif %}
    
    
    {% if page.seo.index == true %}
      <meta name="robots" content="all">
    {% else %}
      <meta name="robots" content="none">
    {% endif %}



<style>
    :root{
        --max-width: {{site.data.style.max-width}}px;
        --side-gap: {{site.data.style.horizontal-padding}};
        --vert-gap: {{site.data.style.vertical-padding}};
        --animation-speed: {{site.data.style.animation-speed}};
        --small-padding: {{site.data.style.small-padding}};
    }

    body{
        --max-width-side-padding: max({{site.data.style.horizontal-padding}},  calc( calc(100vw - var(--max-width)) / 2) );
    }
    :root,{% for scheme in site.data.style.schemes %}
        .scheme-{{scheme.scheme_name}} {
            --bg-color: {{scheme.bg-color}};
            --text-color: {{scheme.text-color}};
            --colored-button-bg: {{scheme.colored-button-bg-color}};
            --colored-button-text: {{scheme.colored-button-text-color}};
        }
    {% endfor %}

</style>


</head>

<body>
  <div class="scheme-base relative" id="header">
  <header>
    <div class="max-width">
      <nav class="text-right">
        {% for link in site.data.navigation.header_links %}
        <a class="inline-block  p-4 {% if forloop.last %} pr-0 {% endif %}" href="{{link.link}}">{{link.text}}</a>
        {% endfor %}
      </nav>
    </div>
  </header>
</div>

<!-- {% include block/horizontal-scroll-basic.html %} -->
  {% if page.blocks %}
    {% for block in page.blocks %}
        <div class="scheme-{{block.color-scheme}} relative" id="section-{{forloop.index}}">
            {% comment %} to figure out what block you added in inspect {% endcomment %}
            <!--{{block._id}} -->
            {% include /block/{{block._id}}.html %}
        </div>
        <!-- script check -->
         {% if block._id == 'accordion' %}
           {% assign hasAccordion = true %}
         {% endif %}

         {% if block._id == 'ticket-banner' %}
          {% assign hasTicketBanner = true %}
         {% endif %}
    {% endfor %}
    {% else %}
    <section>
      <div class="max-width">
        {{content}}
      </div>
    </section>
    {% endif %}


    <div class="scheme-dark relative" id="footer">
    <footer>
      <div class="max-width">
        <nav class="text-right">
          {% for link in site.data.navigation.footer_links %}
          <a class="inline-block p-4" href="{{link.link}}">{{link.text}}</a>
          {% endfor %}
        </nav>
      </div>
    </footer>
  </div>
</body>


<script>    
{% if hasAccordion == true %}
    const buttons = document.querySelectorAll(".expandButton");
  const dropSecs = document.querySelectorAll(".drop-sec");
  
  function getHeight(target) {
    target.style.setProperty('--true-height',  `${target.querySelector(".content").offsetHeight}px` )
  }

  dropSecs.forEach(sec => {
    getHeight(sec)
  })

  onresize = (event) => {
    dropSecs.forEach(sec => {
    getHeight(sec)
  })
  };


  
  function showMore() {

      this.nextElementSibling.classList.toggle('collapsed');
  }

  buttons.forEach(button => {
    button.addEventListener('click', showMore)
  }
  )

  {% endif %}
  {% if hasTicketBanner == true %}
  const tickerBanners = document.querySelectorAll('.tickerBanner');

tickerBanners.forEach(banner => {



  let textBlock = banner.querySelectorAll('.text-block');

  console.log(textBlock[1].offsetWidth)

  let bannerBlock = 0;
  textBlock.forEach( block => {
    bannerBlock += block.offsetWidth
  });

  let bannerLength = bannerBlock
  console.log(bannerBlock)
  console.log(banner.dataset.bannerSpeed)
  
  
  banner.style.setProperty('--bannerBlockLength', `${bannerBlock}px`);
  banner.style.setProperty('--bannerBlockTime', `${(bannerBlock / banner.dataset.bannerSpeed )}s`);

  
  function extendBanner() {
  if (bannerLength < (screen.width + bannerBlock) ) {
    textBlock.forEach(block => {
    console.log(block.innerHTML)
    // add the newly created element and its content into the DOM
    banner.appendChild(block.cloneNode(true));
    // banner.querySelector('a:last-child').innerHTML = block.innerHTML
    // banner.querySelector('a:last-child').href = block.href
      
    });
    bannerLength += bannerBlock;
    console.log(bannerLength) 
    extendBanner()
  } else {
    banner.classList.add('active')
  }
}



  extendBanner()

  console.log(bannerLength)

})
  {% endif %}

</script>